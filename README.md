# Сервис ретроконверсии архивных документов

**Сервис извлечения и индексирования информации из образов архивных документов (Ретроконверсия).**

## Попробовать в проде

https://bobs-ai.ru/

## Возможности

* Извлечение текстовой информации из образов архивных документов.
* Индексация и структурирование данных для последующего поиска.
* Поддержка ретроконверсии — преобразование сканированных архивов в машиночитаемый вид.

---

## Требования

* **GPU**: одна видеокарта с объёмом памяти не менее **14 ГБ** (например, NVIDIA V100).
* **Docker** и **Docker Compose**.
* **Git** ≥ 2.30.

---

## Используемые технологии

Для удобства на данный момент используется **API Yandex GPT5** для извлечения сущностей, однако всегда можно перенести решение в локальный
контур.
Это возможно, так как решение является **опенсорсным** и внесено в **реестр отечественного ПО**.

Для корректной работы необходимо в `docker-compose.yml` для сервиса `worker` указать переменные окружения:

```yaml
environment:
# YANDEX_IAM_TOKEN: <ваш токен IAM>
# YANDEX_OAUTH_TOKEN: <ваш OAuth токен>
# YANDEX_FOLDER_ID: <ваш Folder ID>
```

---

## Запуск

### 1. Клонирование репозитория

```bash
git clone https://github.com/boldirev-as/bobs-lct-archieves.git
cd bobs-lct-archieves
```

### 2. Подготовка ML-артефактов

Скачайте архивы **model.zip** и **checkpoint.zip** по ссылке:

```
https://drive.google.com/drive/folders/1YRlNWaCbIptM1gM2B63z88xtDxTE2SJ1?usp=sharing
```

Разместите их в папке `mlWorker/` и распакуйте:

```bash
mkdir -p mlWorker
cd mlWorker
unzip -o model.zip
unzip -o checkpoint.zip
cd ..
```

### 3. Запуск контейнеров

```bash
docker compose up -d
```

После запуска приложение будет доступно по адресу:

```
http://localhost:80
```

Если веб-сервис не поднялся, выполните:

```bash
docker compose restart nginx --build -d
```

---

## Структура проекта

```
bobs-lct-archieves/
├─ docker-compose.yml
├─ mlWorker/
│  ├─ model/              # распакованные данные модели
│  ├─ checkpoint/         # контрольные точки обучения
│  └─ ...
├─ src/                   # исходный код сервисов
└─ README.md
```

---

## Использование

1. Перейдите на сайт `http://localhost:80`.
2. Загрузите архивные документы (образы).
3. Сервис выполнит распознавание и извлечение данных.
4. Результаты будут проиндексированы для поиска и анализа.
